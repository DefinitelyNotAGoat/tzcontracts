parameter bytes;storage (pair (map int (pair string (pair string (pair mutez (pair address (pair address (pair (pair bool (pair string string)) (pair timestamp timestamp)))))))) int);code{DUP;CDR;NIL operation;PAIR;SWAP;CAR;DUP;PUSH nat 4;PUSH nat 0;SLICE;IF_NONE{PUSH nat 100;FAILWITH}{};DUP;PUSH bytes 0xb03afe75;COMPARE;EQ;IF{DROP;DUP;SIZE;PUSH nat 4;SWAP;SUB;DUP;GT;IF{}{PUSH nat 102;FAILWITH};ABS;PUSH nat 4;SLICE;IF_NONE{PUSH nat 101;FAILWITH}{};UNPACK (pair string (pair string (pair mutez (pair address (pair address (pair (pair bool (pair string string)) (pair timestamp timestamp)))))));IF_NONE{PUSH nat 103;FAILWITH}{};PAIR;NONE nat;PAIR;DUP;CDADDDDDDAR;DIP{NOW;};COMPARE;LT;DIP{DUP;CDADDDDDDAR;DIP{DUP;CDADDDDDDDR;};COMPARE;GT;};OR;IF{PUSH string "Invalid end or resolution dates.";FAILWITH;}{};DUP;CDDDAR;SIZE;SWAP;SET_CAR;DUP;CAR;DIP{PUSH nat 0;};COMPARE;EQ;IF{PUSH int 0;DIP{DUP;CDAR;SOME;};DIIP{DUP;CDDDAR;};UPDATE;SWAP;SET_CDDDAR;PUSH int 1;SWAP;SET_CDDDDR;}{DUP;CDDDDR;DIP{DUP;CDAR;SOME;};DIIP{DUP;CDDDAR;};UPDATE;SWAP;SET_CDDDAR;DUP;CDDDDR;DIP{PUSH int 1;};ADD;SWAP;SET_CDDDDR;};CDDR;}{DUP;PUSH bytes 0xaf8ead49;COMPARE;EQ;IF{DROP;DUP;SIZE;PUSH nat 4;SWAP;SUB;DUP;GT;IF{}{PUSH nat 102;FAILWITH};ABS;PUSH nat 4;SLICE;IF_NONE{PUSH nat 101;FAILWITH}{};UNPACK (pair int string);IF_NONE{PUSH nat 103;FAILWITH}{};PAIR;NONE (pair string (pair string (pair mutez (pair address (pair address (pair (pair bool (pair string string)) (pair timestamp timestamp)))))));PAIR;DUP;CDAAR;DIP{DUP;CDDDAR;};MEM;DIP{PUSH bool False;};COMPARE;EQ;IF{PUSH string "No item exists by that Id for this auction.";FAILWITH;}{};DUP;CDAAR;DIP{DUP;CDDDAR;};GET;IF_NONE{PUSH string "Key not found in map";FAILWITH}{};SWAP;SET_CAR;SENDER;DIP{DUP;CADDDDAR;};COMPARE;NEQ;IF{PUSH string "You are not authorized to add to claim.";FAILWITH;}{};DUP;CADDDDDDAR;DIP{NOW;};COMPARE;GT;IF{PUSH string "You can't make a claim on an auction still live.";FAILWITH;}{};DUP;CADDDDDDDR;DIP{NOW;};COMPARE;GT;IF{PUSH bool False;SWAP;SET_CADDDDDAAR;DUP;CDADR;SWAP;SET_CADDDDDADAR;DUP;CDAAR;DIP{DUP;CAR;SOME;};DIIP{DUP;CDDDAR;};UPDATE;SWAP;SET_CDDDAR;}{};CDDR;}{DUP;PUSH bytes 0x16e502df;COMPARE;EQ;IF{DROP;DUP;SIZE;PUSH nat 4;SWAP;SUB;DUP;GT;IF{}{PUSH nat 102;FAILWITH};ABS;PUSH nat 4;SLICE;IF_NONE{PUSH nat 101;FAILWITH}{};UNPACK (pair int string);IF_NONE{PUSH nat 103;FAILWITH}{};PAIR;NONE (pair string (pair string (pair mutez (pair address (pair address (pair (pair bool (pair string string)) (pair timestamp timestamp)))))));PAIR;DUP;CDAAR;DIP{DUP;CDDDAR;};MEM;DIP{PUSH bool False;};COMPARE;EQ;IF{PUSH string "No item exists by that Id for this auction.";FAILWITH;}{};DUP;CDAAR;DIP{DUP;CDDDAR;};GET;IF_NONE{PUSH string "Key not found in map";FAILWITH}{};SWAP;SET_CAR;SENDER;DIP{DUP;CADDDAR;};COMPARE;NEQ;IF{PUSH string "You are not authorized to add to claim.";FAILWITH;}{};DUP;CADDDDDDAR;DIP{NOW;};COMPARE;GT;IF{PUSH string "You can't make a claim on an auction still live.";FAILWITH;}{};DUP;CDADR;SWAP;SET_CADDDDDADDR;DUP;CDAAR;DIP{DUP;CAR;SOME;};DIIP{DUP;CDDDAR;};UPDATE;SWAP;SET_CDDDAR;CDDR;}{DUP;PUSH bytes 0x4121a61e;COMPARE;EQ;IF{DROP;DUP;SIZE;PUSH nat 4;SWAP;SUB;DUP;GT;IF{}{PUSH nat 102;FAILWITH};ABS;PUSH nat 4;SLICE;IF_NONE{PUSH nat 101;FAILWITH}{};UNPACK int;IF_NONE{PUSH nat 103;FAILWITH}{};PAIR;NONE (pair string (pair string (pair mutez (pair address (pair address (pair (pair bool (pair string string)) (pair timestamp timestamp)))))));PAIR;DUP;CDAR;DIP{DUP;CDDDAR;};MEM;DIP{PUSH bool False;};COMPARE;EQ;IF{PUSH string "No item exists by that Id for this auction.";FAILWITH;}{};DUP;CDAR;DIP{DUP;CDDDAR;};GET;IF_NONE{PUSH string "Key not found in map";FAILWITH}{};SWAP;SET_CAR;SENDER;DIP{DUP;CADDDDAR;};COMPARE;NEQ;IF{PUSH string "You are not authorized to resolve this claim.";FAILWITH;}{};DUP;CADDDDDDAR;DIP{NOW;};COMPARE;GT;IF{PUSH string "You can't resolve a claim on an auction still live.";FAILWITH;}{};DUP;CADDDDDAAR;DIP{PUSH bool True;};COMPARE;EQ;IF{PUSH string "There is nothing to resolve.";FAILWITH;}{};PUSH bool True;SWAP;SET_CADDDDDAAR;DUP;CDAR;DIP{DUP;CAR;SOME;};DIIP{DUP;CDDDAR;};UPDATE;SWAP;SET_CDDDAR;CDDR;}{DUP;PUSH bytes 0x200e7681;COMPARE;EQ;IF{DROP;DUP;SIZE;PUSH nat 4;SWAP;SUB;DUP;GT;IF{}{PUSH nat 102;FAILWITH};ABS;PUSH nat 4;SLICE;IF_NONE{PUSH nat 101;FAILWITH}{};UNPACK int;IF_NONE{PUSH nat 103;FAILWITH}{};PAIR;NONE (pair string (pair string (pair mutez (pair address (pair address (pair (pair bool (pair string string)) (pair timestamp timestamp)))))));PAIR;DUP;CDAR;DIP{DUP;CDDDAR;};MEM;DIP{PUSH bool False;};COMPARE;EQ;IF{PUSH string "No item exists by that Id for this auction.";FAILWITH;}{};DUP;CDAR;DIP{DUP;CDDDAR;};GET;IF_NONE{PUSH string "Key not found in map";FAILWITH}{};SWAP;SET_CAR;SENDER;DIP{DUP;CADDDAR;};COMPARE;NEQ;IF{PUSH string "You are not authorized to withdraw from this auction.";FAILWITH;}{};DUP;CADDDDDAAR;DIP{PUSH bool False;};COMPARE;EQ;IF{PUSH string "You must resolve the claim with the buyer to receive funds.";FAILWITH;}{};DUP;CADDDDDDAR;DIP{NOW;};COMPARE;GT;DIP{NOW;DIP{DUP;CADDDDDDDR;};COMPARE;LT;};OR;IF{PUSH string "The auction has not ended or the resolution period has not past.";FAILWITH;}{};DUP;CADDAR;DIP{PUSH mutez 0;};COMPARE;NEQ;IF{UNIT;DIP{DUP;CADDAR;};DIIP{SENDER;CONTRACT unit;IF_NONE{PUSH string "Invalid contract";FAILWITH}{};};TRANSFER_TOKENS;DIP{DUP;CDDAR;};CONS;SWAP;SET_CDDAR;}{PUSH string "You cannot withdraw 0.";FAILWITH;};CDDR;}{DUP;PUSH bytes 0x75ed3e40;COMPARE;EQ;IF{DROP;DUP;SIZE;PUSH nat 4;SWAP;SUB;DUP;GT;IF{}{PUSH nat 102;FAILWITH};ABS;PUSH nat 4;SLICE;IF_NONE{PUSH nat 101;FAILWITH}{};UNPACK int;IF_NONE{PUSH nat 103;FAILWITH}{};PAIR;NONE (pair string (pair string (pair mutez (pair address (pair address (pair (pair bool (pair string string)) (pair timestamp timestamp)))))));PAIR;DUP;CDAR;DIP{DUP;CDDDAR;};MEM;DIP{PUSH bool False;};COMPARE;EQ;IF{PUSH string "No item exists by that Id for this auction.";FAILWITH;}{};DUP;CDAR;DIP{DUP;CDDDAR;};GET;IF_NONE{PUSH string "Key not found in map";FAILWITH}{};SWAP;SET_CAR;SENDER;DIP{DUP;CADDDAR;};COMPARE;NEQ;IF{PUSH string "You are not authorized to send a refund for this auction.";FAILWITH;}{};DUP;CADDDDDDAR;DIP{NOW;};COMPARE;GT;IF{PUSH string "The auction has not ended.";FAILWITH;}{};DUP;CADDAR;DIP{PUSH mutez 0;};COMPARE;NEQ;IF{UNIT;DIP{DUP;CADDAR;};DIIP{DUP;CADDDDAR;CONTRACT unit;IF_NONE{PUSH string "Invalid contract";FAILWITH}{};};TRANSFER_TOKENS;DIP{DUP;CDDAR;};CONS;SWAP;SET_CDDAR;}{PUSH string "You cannot refund 0.";FAILWITH;};PUSH bool True;SWAP;SET_CADDDDDAAR;DUP;CDAR;DIP{DUP;CAR;SOME;};DIIP{DUP;CDDDAR;};UPDATE;SWAP;SET_CDDDAR;CDDR;}{DUP;PUSH bytes 0x65e3abe5;COMPARE;EQ;IF{DROP;DUP;SIZE;PUSH nat 4;SWAP;SUB;DUP;GT;IF{}{PUSH nat 102;FAILWITH};ABS;PUSH nat 4;SLICE;IF_NONE{PUSH nat 101;FAILWITH}{};UNPACK int;IF_NONE{PUSH nat 103;FAILWITH}{};PAIR;NONE address;NONE (pair string (pair string (pair mutez (pair address (pair address (pair (pair bool (pair string string)) (pair timestamp timestamp)))))));PAIR;PAIR;DUP;CDAR;DIP{DUP;CDDDAR;};MEM;DIP{PUSH bool False;};COMPARE;EQ;IF{PUSH string "No item exists by that Id for this auction.";FAILWITH;}{};DUP;CDAR;DIP{DUP;CDDDAR;};GET;IF_NONE{PUSH string "Key not found in map";FAILWITH}{};SWAP;SET_CAAR;DUP;CAADDDDAR;SWAP;SET_CADR;SENDER;DIP{DUP;CAADDDAR;};COMPARE;EQ;IF{PUSH string "You cant bid against your own item.";FAILWITH;}{};DUP;CAADDDDDDAR;DIP{NOW;};COMPARE;LT;IF{PUSH string "The auction for the item requested has already ended.";FAILWITH;}{};AMOUNT;DIP{PUSH mutez 0;};COMPARE;EQ;IF{PUSH string "You cannot bid 0.";FAILWITH;}{};DUP;CAADDAR;DIP{AMOUNT;};COMPARE;GE;IF{UNIT;DIP{AMOUNT;};DIIP{SENDER;CONTRACT unit;IF_NONE{PUSH string "Invalid contract";FAILWITH}{};};TRANSFER_TOKENS;DIP{DUP;CDDAR;};CONS;SWAP;SET_CDDAR;PUSH string "Sending funds back - bid too low.";FAILWITH;}{DUP;CAADDAR;DIP{PUSH mutez 0;};COMPARE;NEQ;IF{UNIT;DIP{AMOUNT;};DIIP{DUP;CADR;CONTRACT unit;IF_NONE{PUSH string "Invalid contract";FAILWITH}{};};TRANSFER_TOKENS;DIP{DUP;CDDAR;};CONS;SWAP;SET_CDDAR;}{};SENDER;SWAP;SET_CAADDDDAR;AMOUNT;SWAP;SET_CAADDAR;DUP;CDAR;DIP{DUP;CAAR;SOME;};DIIP{DUP;CDDDAR;};UPDATE;SWAP;SET_CDDDAR;};CDDR;}{DROP;PUSH nat 400;FAILWITH;}}}}}}}};